<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello Tabeeb Lab Tests Booking</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div style="max-width: 800px; margin: 20px auto;">
          {% for category, message in messages %}
            <div class="flash-message {{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    
    <!-- Header -->
    <h1 class="first">
         <span style="color: #4782DE;">Exclusive</span> Discounts on Lab and Radiology Tests Across Pakistan FOR Chughtai Lab, Islamabad Diagnostic Centre, Dr. Essa Lab & Diagnostic and Excel Labs.<br>
    </h1>
    
    <!-- Booking Form -->
    <form id="lab-test-form" action="{{ url_for('main.book') }}" method="POST">
        <!-- Patient Name -->

        <input type="hidden" id="discount-type" name="discount-type" value="">


        <label for="patient-name">Patient Name:</label>
        <input type="text" id="patient-name" name="patient-name" required><br><br>

        <!-- Phone Number -->
        <label for="phone-number">Phone Number:</label>
        <input type="tel" id="phone-number" name="phone-number" required><br><br>

        <!-- Email -->
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

              <!-- Select Lab -->
                <!-- Select Lab -->
        <label for="lab-select">Select Lab:</label>
        <div class="custom-select-wrapper">
            <div class="custom-select">
                <div class="custom-select-trigger">
                    <span>Select a lab</span>
                    <div class="arrow"></div>
                </div>
                <div class="custom-options">
                    <span class="custom-option" data-value="chughtai-lab">
                        <img src="static/download (2).png" alt="Chughtai Lab"> Chughtai Lab
                    </span>
                    <span class="custom-option" data-value="idc-islamabad">
                        <img src="static/1.PNG" alt="IDC Islamabad"> IDC (Islamabad Diagnostic Center)
                    </span>
                    <span class="custom-option" data-value="dr-essa-lab">
                        <img src="static/2.png" alt="Dr. Essa Lab"> Dr. Essa Lab
                    </span>
                    <span class="custom-option" data-value="another-lab">
                        <img src="static/excel.png" alt="Excel Lab"> Excel Lab
                    </span>
                </div>
            </div>
        </div>
        <input type="hidden" id="lab-select" name="lab-select" required>     
           <br><br>



           

        <!-- Test Selection -->
        <div id="test-selection-container" class="test-container" style="display: none;">
            <label for="test-search">Search Test:</label>
            <input type="text" id="test-search" name="test-search" placeholder="Search for a test...">

            <h2>Select Tests</h2>

            <div class="discount-filters">
    <div class="filter-buttons">
        <button type="button" class="filter-button" data-discount="20">20%</button>
        <button type="button" class="filter-button" data-discount="30">30%</button>
        <!-- Temporarily disabled 12% discount option
        <button type="button" class="filter-button" data-discount="12">
            12% (extra deals) <span class="info-icon">i</span>
        </button>
        -->
    </div>
</div>
            
<!-- Temporarily disabled 12% discount popup
<div id="info-popup" class="info-popup">
    <div class="popup-content">
        <span class="close-popup">&times;</span>
        <div class="celebration-container">
            <div class="celebration-animation">ðŸŽ‰âœ¨ðŸŽŠ</div>
        </div>
        <div class="popup-message" style="border-radius: 10px; font-family: Verdana, Geneva, Tahoma, sans-serif; line-break: auto;">
            <h3>Special Offer Alert! ðŸŽ¯</h3>
            <p>Get an exclusive 12% discount on all tests!</p>
            <p>By availing it you'll be able to unclock more Lab Discounts + 1 Free Consultation.</p>
        </div>
    </div>
</div>
-->

            <div id="test-list" class="test-cards-container">
                <!-- Loading Spinner -->
                <div class="loading-spinner" id="loading-spinner"></div>
                <!-- Test cards will be populated here by app.js -->
            </div>
        </div>

        <!-- Coming Soon Message -->
        <div id="coming-soon-message" style="display: none;">
            <p>Tests from this lab are coming soon.</p>
        </div>

        <!-- Selected Tests -->
        <div id="selected-tests-container">
            <h3>Selected Tests</h3>
            <ul id="selected-tests-list">
                <!-- Selected tests will appear here -->
            </ul>
            <div id="total-amount">
                <strong>Total Amount: </strong><span id="total-fee">Rs.0</span>
            </div>
        </div>

        <!-- Submit Button -->
        <button type="submit">Confirm Booking</button>
    </form>
    
    <!-- Optional: Include an icon library like Font Awesome for better icons -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> -->

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
